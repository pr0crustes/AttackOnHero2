"item_recipe_formidable_chest"
{
    "ID"							"$ID"
    "BaseClass"						"item_datadriven"
    "Model"							"models/props_gameplay/recipe.vmdl"
    "AbilityTextureName"			"item_recipe"

    "ItemCost"						"600"	
    "ItemShopTags"					""

    "ItemRecipe"					"1"
    "ItemResult"					"item_formidable_chest"
    "ItemRequirements"
    {
        "01"						"item_platemail;item_platemail"
    }
}	



"item_formidable_chest"
{
    "ID"							"$ID"
    "BaseClass"						"item_lua"
    "ScriptFile"                    "items/formidable_chest.lua"

    "AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"

    "AbilityTextureName"		    "ForaMon/formidable_chest"

    "ItemShopTags"					"armor"
    "ItemQuality"					"secret_shop"
    "ItemAliases"					"Formidable Chest"


    "AbilityCooldown"				"50.0"
    "AbilityCastRange"				"1000"
    "AbilityCastPoint"				"0.0"

    "AbilityManaCost"				"60"


    "precache"
    {
        "particle"                  "particles/custom/formidable_chest_shield/formidable_chest_shield.vpcf"
    }


    "AbilitySpecial"
    {
        "01"
        {
            "var_type"				"FIELD_INTEGER"
            "bonus_armor"			"22"
        }
        "02"
        {
            "var_type"				"FIELD_INTEGER"
            "radius"			    "1000"
        }
        "03"
        {
            "var_type"				"FIELD_INTEGER"
            "damage_reduction"	    "-15"
        }
        "04"
        {
            "var_type"				"FIELD_INTEGER"
            "duration"	            "10"
        }
    }


    "OnSpellStart"
    {
        "ApplyModifier"
        {
            "Target"				"CASTER"
            "ModifierName"			"modifier_item_formidable_chest_aura"
        }
        "FireSound"
        {
            "Target"				"CASTER"
            "EffectName"			"Item.CrimsonGuard.Cast"
        }
    }


    "Modifiers"
    {
        "modifier_item_formidable_chest"
        {
            "Passive"			"1"
            "IsHidden"			"1"
            
            "Properties"
            {
                "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"       "%bonus_armor"
            }
        }

        "modifier_item_formidable_chest_aura" 
        {
            "IsBuff"	            "1"
            "IsHidden"              "1"
            "Duration"              "%duration"
            
            "Aura"                  "modifier_item_formidable_chest_buff"
            "Aura_Radius"           "%radius"
            "Aura_Teams"            "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
            "Aura_Types"            "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
            "Aura_Flags"            "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
        }

        "modifier_item_formidable_chest_buff"
        {
            "IsBuff"                "1"
            "TextureName"           "item_formidable_chest"

            "OnCreated"
            {
                "AttachEffect"
                {
                    "Target"                "TARGET"
                    "EffectName"            "particles/custom/formidable_chest_shield/formidable_chest_shield.vpcf"
                    "EffectAttachType"      "follow_origin"
                }
            }

            "Properties" 
            {
                "MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE"        "%damage_reduction"
            }
        }
    }
}